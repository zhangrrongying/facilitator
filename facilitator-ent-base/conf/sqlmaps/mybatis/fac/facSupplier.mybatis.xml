<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE guzz-configs PUBLIC "-//GUZZ//DTD MAIN CONFIG//EN" "http://www.guzz.org/dtd/guzz.dtd">
<guzz-configs>
	<sqlMap dbgroup="facMysql">
		
		<select id="queryBkdSupplierSize" orm="facSupplier" templated="true">
			<![CDATA[
			SELECT COUNT(*) FROM fac_supplier a 
			WHERE 1 = 1 
		    
		    #notEmpty($name)
		      AND a.`Name` LIKE concat('%',:name,'%') 
		    #end
			]]>
		</select>
		
		<select id="queryBkdSuppliers" orm="facSupplier" templated="true">
			<![CDATA[
			SELECT a.* FROM fac_supplier a 
			WHERE 1 = 1 
		    
		    #notEmpty($name)
		      AND a.`Name` LIKE concat('%',:name,'%') 
		    #end
			ORDER BY a.Create_Time DESC LIMIT :offset,:limit
			]]>
		</select>
		
		<select id="queryBkdProjectSize" orm="facProject" templated="true">
			<![CDATA[
			SELECT COUNT(*) FROM fac_project a 
			WHERE 1 = 1 
		    
		    #notEmpty($name)
		      AND a.`Name` LIKE concat('%',:name,'%') 
		    #end
		    
		    #if($projectTypeId > 0)
	          AND a.Project_Type_Id = :projectTypeId 
	        #end
			]]>
		</select>
		
		<select id="queryBkdProjects" orm="facProject" templated="true">
			<![CDATA[
			SELECT a.*,b.`Name` AS projectTypeName,c.`Name` AS createUserName FROM fac_project a LEFT JOIN 
			fac_project_type b ON a.Project_Type_Id = b.Id LEFT JOIN sys_user c ON a.Create_User = c.Id
			WHERE 1 = 1 
		    
		    #notEmpty($name)
		      AND a.`Name` LIKE concat('%',:name,'%') 
		    #end
		    
		    #if($projectTypeId > 0)
	          AND a.Project_Type_Id = :projectTypeId 
	        #end
			ORDER BY a.Create_Time DESC LIMIT :offset,:limit
			]]>
		</select>
  	</sqlMap>
 </guzz-configs>